{% load staticfiles %}
<!DOCTYPE html>
<html lang="UTF-8">
  <head>
    <title>ChamFION &mdash; 피파온라인분석사이트</title>
    <meta charset="utf-8">
    <!--  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Muli:300,400,700,900" rel="stylesheet"> -->
	  <link rel="stylesheet" href='{% static "fonts/icomoon/style.css" %}'>
    <link rel="stylesheet" href='{% static "css/bootstrap.min.css" %}'>
    <link rel="stylesheet" href='{% static "css/jquery-ui.css" %}'>
    <link rel="stylesheet" href='{% static "css/owl.carousel.min.css" %}'>
    <link rel="stylesheet" href='{% static "css/owl.theme.default.min.css" %}'>
    <link rel="stylesheet" href='{% static "css/owl.theme.default.min.css" %}'>
    <link rel="stylesheet" href='{% static "css/jquery.fancybox.min.css" %}'>
    <link rel="stylesheet" href='{% static "css/bootstrap-datepicker.css" %}'>
    <link rel="stylesheet" href='{% static "fonts/flaticon/font/flaticon.css" %}'>
    <link rel="stylesheet" href='{% static "css/aos.css" %}'>
    <link rel="stylesheet" href='{% static "css/style.css" %}'>
    <link rel="stylesheet" href='{% static "css/formation.css" %}'>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
       <script>
             // using jQuery csrftoken
              function getCookie(name) {
                var cookieValue = null;
                if (document.cookie && document.cookie != '') {
                  var cookies = document.cookie.split(';');
                  for (var i = 0; i < cookies.length; i++) {
                    var cookie = jQuery.trim(cookies[i]);
                    // Does this cookie string begin with the name we want?
                    if (cookie.substring(0, name.length + 1) == (name + '=')) {
                      cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                      break;
                    }
                  }
                }
                return cookieValue;
              }
              function csrfSafeMethod(method) {
                // these HTTP methods do not require CSRF protection
                return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
              }
              $(document).ready(function() {
                var csrftoken = getCookie('csrftoken');
                $.ajaxSetup({
                  beforeSend: function(xhr, settings) {
                    if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                      xhr.setRequestHeader("X-CSRFToken", csrftoken);
                    }
                  }
                });
              });
        </script>
    <style>
     

      th, td {
        text-align: left;
        padding: 8px;
      }

      tr:nth-child(even){background-color: #f2f2f2}
      tr:hover {background-color:#f5f5f5;}
      th {
        background-color: #212529;  
        color: white;
      }
      

      .tab {
            list-style: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
          }

  
	.site-section{
		background:#1C202A;
	}
	
	.sticky-wrapper.is-sticky .site-navbar .site-menu > li > a{
	  color:#fff;
	  }
	  
	.sticky-wrapper.is-sticky .site-navbar .site-logo a{
	 color:#fff;
	}
	
	 .slide-1:before{
	   content: "";
	   position: absolute;
	   height: 100%;
	   width: 100%;
	   opacity: .9;
	   border-bottom-right-radius: 0px;
	   background : #0E1015;
	       
     }
    .text-black {
    color: #fff !important;
	}
	
	.sticky-wrapper.is-sticky .site-navbar {
    background: #0E1015;
	}
	
	body{
	color:#fff;
	}
 
    </style>
    
  </head>
  <body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">
  
  <div class="site-wrap">

    <div class="site-mobile-menu site-navbar-target">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
   
    
    <header class="site-navbar py-4 js-sticky-header site-navbar-target" role="banner">
      
      <div class="container-fluid">
        <div class="d-flex align-items-center">
          <div class="site-logo mr-auto w-25"><a href="../">ChamFION</a></div>

          <div class="mx-auto text-center">
            <nav class="site-navigation position-relative text-right" role="navigation">
              <ul class="site-menu main-menu js-clone-nav mx-auto d-none d-lg-block  m-0 p-0">
                 <li><a href="#home-section" class="nav-link">Home</a></li>
                <li><a href="#" onclick="link('search')" class="nav-link">Squad Maker</a></li>
                <li><a href="#" onclick="link('analysis')" class="nav-link" >Analysis</a></li>
                <li><a href="#" onclick="link('topplayer')" class="nav-link">Top Player</a></li>
              </ul>
            </nav>
          </div>
          <div class="ml-auto w-25">
            <nav class="site-navigation position-relative text-right" role="navigation">
              <ul class="site-menu main-menu site-menu-dark js-clone-nav mr-auto d-none d-lg-block m-0 p-0">
                <li class="cta"><a href="#contact-section" class="nav-link"><span>Contact Us</span></a></li>
              </ul>
            </nav>
            <a href="#" class="d-inline-block d-lg-none site-menu-toggle js-menu-toggle text-black float-right"><span class="icon-menu h3"></span></a>
          </div>
        </div>
      </div>
      
    </header>

    <div class="intro-section single-cover" id="home-section" style="height:0vh ; min-height: 80px;" >
      <div class="slide-1 "  data-stellar-background-ratio="0.5">
       
      </div>
    </div>
    
  

    
    
    
    <div class="site-section">
      <div class="container" style = "margin: auto;" >
        <div class="row" >
          <div class="col-md-6">
            <div> 
              <h3 class="text-black">Top Player </h3> 
                <ul class="nav nav-tabs" style= "margin-top:50px">
	              <li class="nav-item" id="table_1"> <a class="nav-link active" data-toggle="tab" href="#">Goal/Game</a></li>
	              <li class="nav-item" id="table_2"><a class="nav-link" data-toggle="tab" href="#">Assist/Game</a></li>
	              <li class="nav-item" id="table_3"><a class="nav-link" data-toggle="tab" href="#">Tackle/Game</a></li>
	            </ul>
                <table id = "detail_table" class="table table-hover" style="text-align: center;">
				 
				</table>
          </div>
        </div> <!--  row end -->
         <div class="col-md-6">
            <div> 
              <h3 class="text-black">Most Pick</h3> 
                <select id="select_1" class="form-control" style="width:80px; height:38px; margin-top:50px;  float: left;">
				  <option value="0">GK</option>
				  <option value="1">SW</option>
				  <option value="2">RWB</option>
				  <option value="3">RB</option>
				  <option value="4">RCB</option>
				  <option value="5">CB</option>
				  <option value="6">LCB</option>
				  <option value="7">LB</option>
				  <option value="8">LWB</option>
				  <option value="9">RDM</option>
				  <option value="10">CDM</option>
				  <option value="11">LDM</option>
				  <option value="12">RM</option>
				  <option value="13">RCM</option>
				  <option value="14">CM</option>
				  <option value="15">LCM</option>
				  <option value="16">LM</option>
				  <option value="17">RAM</option>
				  <option value="18">CAM</option>
				  <option value="19">LAM</option>
				  <option value="20">RF</option>
				  <option value="21">CF</option>
				  <option value="22">LF</option>
				  <option value="23">RW</option>
				  <option value="24">RS</option>
				  <option value="25">ST</option>
				  <option value="26">LS</option>
				  <option value="27">LW</option>
				</select>
                <table id = "detail_table_1" class="table table-hover" style="text-align: center;">
				
				</table>
          </div>
        </div> <!--  row end -->
      </div>
    </div>  
  </div>
  

        <script>
           function getParameterByName(name) {
                name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                    results = regex.exec(location.search);
                return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
            }


            function link(url) {

              var uid = getParameterByName('ID');
              
              var form = document.createElement("form");
              var parm = new Array();
              var input = new Array();

              form.action = '../'+url+'/';
              form.method = "get";

              parm.push( ['ID', uid] );
              

              for (var i = 0; i < parm.length; i++) {
                  input[i] = document.createElement("input");
                  input[i].setAttribute("type", "hidden");
                  input[i].setAttribute('name', parm[i][0]);
                  input[i].setAttribute("value", parm[i][1]);
                  form.appendChild(input[i]);
              }
              document.body.appendChild(form);
              form.submit();
            };
			 
          $(function() {
            $('#table_1').click(function() {
              $.ajax({
                type : 'GET',                 //get방식으로 통신
                url : '{% static "jsondata/goalbest.json" %}',              //탭의 data-tab속성의 값으로 된 html파일로 통신
                dataType : "json",            //html형식으로 값 읽기
                error : function() {          //통신 실패시
                  alert('통신실패!');
                },
                success:function(data) {
                  $('#detail_table').html("");
                  $('#detail_table').append("<th>IMG</th><th>Season</th><th> Name </th><th>Grade</th><th>Goal</th>");
                  $.each(data, function(index, entry) {
                    $('#detail_table').append("<tr>");
                    if(entry["seasonName"] == "TC" || entry["seasonName"] == "GR" || entry["seasonName"] == "19TS" || entry["seasonName"] == "19TY" || entry["seasonName"] == "18A" || entry["seasonName"] == "18S")
                      $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/playersAction/p"+entry["spId"]+".png?rd=201910080430\">" + "</td>");
                    else{

                      if(entry["spId"].substring(3,9).startsWith('0')){
                        if(entry["spId"].substring(4,9).startsWith('0')){
                          $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(5.9)+".png?rd=201910080430\">" + "</td>");
                        }else{
                          $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(4.9)+".png?rd=201910080430\">" + "</td>");
                        }
                      }else{
                        $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(3.9)+".png?rd=201910080430\">" + "</td>");
                      }
                    }
                    $('#detail_table').append("<td>" + "<img src=\"http://s.nx.com/s2/game/fo4/obt/externalAssets/season/"+entry["seasonName"]+".png\">" + "</td>");
                    $('#detail_table').append("<td>" + entry["name"] + "</td>");
                    $('#detail_table').append("<td>" + entry["spGrade"]  + "</td>");
                    $('#detail_table').append("<td>" + entry["goal"].substring(0,5)  + "</td>");
                    $('#detail_table').append("</tr>");
                  });
                }
              });
            });
            $('#table_1').click();
        });
          
          $(function() {
              // tab operation
              $('#table_2').click(function() {
                $.ajax({
                  type : 'GET',                 //get방식으로 통신
                  url : '{% static "jsondata/assistbest.json" %}',              //탭의 data-tab속성의 값으로 된 html파일로 통신
                  dataType : "json",            //html형식으로 값 읽기
                  error : function() {          //통신 실패시
                    alert('통신실패!');
                  },
                  success:function(data) {
                    $('#detail_table').html("");
                    $('#detail_table').append("<th>IMG</th><th>Season</th><th> Name </th><th>Grade</th><th>assist</th>");
                    $.each(data, function(index, entry) {
                    	if(entry["spId"].substring(3,9).startsWith('0')){
                    		if(entry["spId"].substring(4,9).startsWith('0')){
                    			if(entry["spId"].substring(4,9).startsWith('0')){
                    				
                    			}else{
                    				cutspid = entry["spId"].substring(5,9)
                    			}
                    		}else{
                    			cutspid = entry["spId"].substring(4,9)
                    		}
                    	}else{
                    		cutspid = entry["spId"].substring(3,9)
                    		
                    	}
                      $('#detail_table').append("<tr>");
                      
                      $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/playersAction/p"+entry["spId"]+".png?rd=201910080430\" onerror=\"this.src='https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+cutspid+".png?rd=201910290610'\">" + "</td>");
/*                       
                      
                       if(entry["seasonName"] == "TC" || entry["seasonName"] == "GR" || entry["seasonName"] == "19TS" || entry["seasonName"] == "19TY" || entry["seasonName"] == "18A" || entry["seasonName"] == "18S")
                        $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/playersAction/p"+entry["spId"]+".png?rd=201910080430\">" + "</td>");
                      else{
                        if(entry["spId"].substring(3,9).startsWith('0')){
                          if(entry["spId"].substring(4,9).startsWith('0')){
                            $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(5.9)+".png?rd=201910080430\ ">" + "</td>");
                          }else{
                            $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(4.9)+".png?rd=201910080430\">" + "</td>");
                          }
                        }else{
                          $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(3.9)+".png?rd=201910080430\">" + "</td>");
                        }
                      } 
                         */

                      $('#detail_table').append("<td>" + "<img src=\"http://s.nx.com/s2/game/fo4/obt/externalAssets/season/"+entry["seasonName"]+".png\">" + "</td>");
                      $('#detail_table').append("<td>" + entry["name"] + "</td>");
                      $('#detail_table').append("<td>" + entry["spGrade"]  + "</td>");
                      $('#detail_table').append("<td>" + entry["assist"].substring(0,5)  + "</td>");
                      $('#detail_table').append("</tr>");
                    });
                  }
                });
              });
          });
          
          $(function() {
              // tab operation
              $('#table_3').click(function() {
                $.ajax({
                  type : 'GET',                 //get방식으로 통신
                  url : '{% static "jsondata/tacklebest.json" %}',              //탭의 data-tab속성의 값으로 된 html파일로 통신
                  dataType : "json",            //html형식으로 값 읽기
                  error : function() {          //통신 실패시
                    alert('통신실패!');
                  },
                  success:function(data) {
                    $('#detail_table').html("");
                    $('#detail_table').append("<th>IMG</th><th>Season</th><th> Name </th><th>Grade</th><th>tackle</th>");
                    $.each(data, function(index, entry) {
                      $('#detail_table').append("<tr>");
                      if(entry["seasonName"] == "TC" || entry["seasonName"] == "GR" || entry["seasonName"] == "19TS" || entry["seasonName"] == "19TY" || entry["seasonName"] == "18A" || entry["seasonName"] == "18S")
                        $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/playersAction/p"+entry["spId"]+".png?rd=201910080430\" onerror=\"this.src='https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(4.9)+".png?rd=201910080430'\">" + "</td>");
                      else{

                        if(entry["spId"].substring(3,9).startsWith('0')){
                          if(entry["spId"].substring(4,9).startsWith('0')){
                            $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(5,9)+".png?rd=201910080430\">" + "</td>");
                          }else{
                            $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(4,9)+".png?rd=201910080430\">" + "</td>");
                          }
                        }else{
                          $('#detail_table').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(3,9)+".png?rd=201910080430\">" + "</td>");
                        }
                      }

                      $('#detail_table').append("<td>" + "<img src=\"http://s.nx.com/s2/game/fo4/obt/externalAssets/season/"+entry["seasonName"]+".png\">" + "</td>");
                      $('#detail_table').append("<td>" + entry["name"] + "</td>");
                      $('#detail_table').append("<td>" + entry["spGrade"]  + "</td>");
                      $('#detail_table').append("<td>" + entry["tackle"].substring(0,5)  + "</td>");
                      $('#detail_table').append("</tr>");
                    });
                  }
                });
              });
          });
          
          $(function() {
              $('#select_1').change(function() {
            	var a = $(this).val();
                $.ajax({
                  type : 'GET',                 //get방식으로 통신
                  url : '/static/jsondata/position'+a+'.json/',              //탭의 data-tab속성의 값으로 된 html파일로 통신
                  dataType : "json",            //html형식으로 값 읽기
                  error : function() {          //통신 실패시
                    alert('통신실패!');
                  },
                  success:function(data) {
                    $('#detail_table_1').html("");
                    $('#detail_table_1').append("<th>IMG</th><th>Season</th><th> Name </th><th>Grade</th><th>Count</th>");
                    $.each(data, function(index, entry) {
                      $('#detail_table_1').append("<tr>");
                      if(entry["seasonName"] == "TC" || entry["seasonName"] == "GR" || entry["seasonName"] == "19TOTS" || entry["seasonName"] == "19TOTY" || entry["seasonName"] == "18A" || entry["seasonName"] == "18S")
                        $('#detail_table_1').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/playersAction/p"+entry["spId"]+".png?rd=201910080430\">" + "</td>");
                      else{

                        if(entry["spId"].substring(3,9).startsWith('0')){
                          if(entry["spId"].substring(4,9).startsWith('0')){
                            $('#detail_table_1').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(5.9)+".png?rd=201910080430\">" + "</td>");
                          }else{
                            $('#detail_table_1').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(4.9)+".png?rd=201910080430\">" + "</td>");
                          }
                        }else{
                          $('#detail_table_1').append("<td>" + "<img src=\"https://fo4.dn.nexoncdn.co.kr/live/externalAssets/common/players/p"+entry["spId"].substring(3.9)+".png?rd=201910080430\">" + "</td>");
                        }
                      }
                     
                      $('#detail_table_1').append("<td>" + "<img src=\"http://s.nx.com/s2/game/fo4/obt/externalAssets/season/"+entry["seasonName"]+".png\">" + "</td>");
                      $('#detail_table_1').append("<td>" + entry["name"] + "</td>");
                      $('#detail_table_1').append("<td>" + entry["spGrade"]  + "</td>");
                      $('#detail_table_1').append("<td>" + entry["count"].substring(0,5)  + "</td>");
                      $('#detail_table_1').append("</tr>");
                    });
                  }
                });
              });
              
              $('#select_1').change();
          });
          
         
        </script>




	<!-- .site-wrap -->

  <script src='{% static "js/jquery-3.3.1.min.js" %}'></script>
  <script src='{% static "js/jquery-migrate-3.0.1.min.js" %}'></script>
  <script src='{% static "js/jquery-ui.js" %}'></script>
  <script src='{% static "js/popper.min.js" %}'></script>
  <script src='{% static "js/bootstrap.min.js" %}'></script>
  <script src='{% static "js/owl.carousel.min.js" %}'></script>
  <script src='{% static "js/jquery.stellar.min.js" %}'></script>
  <script src='{% static "js/jquery.countdown.min.js" %}'></script>
  <script src='{% static "js/bootstrap-datepicker.min.js" %}'></script>
  <script src='{% static "js/jquery.easing.1.3.js" %}'></script>
  <script src='{% static "js/aos.js" %}'></script>
  <script src='{% static "js/jquery.fancybox.min.js" %}'></script>
  <script src='{% static "js/jquery.sticky.js" %}'></script>

  
  <script src='{% static "js/main.js" %}'></script>
    
  </body>
</html>